<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Michael Munavu Portfolio</title>
    <style>
      /* Your global CSS here */
    </style>
  </head>
  <body>
    <!-- Navigation (stays consistent) -->
    <nav>
      <a href="#home" onclick="navigate('home')">Home</a>
      <a href="#about" onclick="navigate('about')">About</a>
      <a href="#projects" onclick="navigate('projects')">Projects</a>
      <a href="#contact" onclick="navigate('contact')">Contact</a>
      <a href="#services" onclick="navigate('services')">Services</a>
    </nav>

    <!-- Content container -->
    <div id="content">Loading...</div>

    <script>
      // Simple router function
      function navigate(page) {
        loadPage(page);
        // Update URL without refresh
        history.pushState({ page: page }, "", "#" + page);
      }

      // Load page content
      async function loadPage(page) {
        const contentDiv = document.getElementById("content");

        try {
          // Fetch the HTML from the folder
          const response = await fetch(page + "/index.html");
          if (!response.ok) throw new Error("Page not found");

          let html = await response.text();

          // Extract just the body content (remove html, head tags)
          const parser = new DOMParser();
          const doc = parser.parseFromString(html, "text/html");
          const bodyContent = doc.body.innerHTML;

          contentDiv.innerHTML = bodyContent;

          // Update page title
          const title = doc.title || "Michael Munavu Portfolio";
          document.title = title;
        } catch (error) {
          contentDiv.innerHTML =
            "<h1>Page Not Found</h1><p>The requested page could not be loaded.</p>";
        }
      }

      // Handle browser back/forward
      window.addEventListener("popstate", function (event) {
        const page = event.state ? event.state.page : "home";
        loadPage(page);
      });

      // Load initial page
      function init() {
        const hash = window.location.hash.replace("#", "") || "home";
        loadPage(hash);
      }

      // Start the app
      document.addEventListener("DOMContentLoaded", init);
    </script>
  </body>
</html>
